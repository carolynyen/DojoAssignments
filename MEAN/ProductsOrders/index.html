<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Products with a Factory</title>
        <script src="bower_components/angular/angular.js"></script>
        <script src="main.js"></script>
    </head>
    <body ng-app="app">
        <div ng-controller='productsController'>
            <form ng-submit="addproduct()">
                Product Name: <input type="text" ng-model="add_product.name" placeholder="name">
                Product Price: <input type="text" ng-model="add_product.price" placeholder="price">
                <input type="submit" id="submit" value="Add Product">
            </form>
            <div ng-repeat="product in products | orderBy: '-price'">
                Name: {{product.name}}, Price: {{product.price | currency}}
                <button ng-click = 'deleteproduct(product)'>Delete</button>
            </div>
        </div>
        <div ng-controller='ordersController'>
            <br>
            <div ng-repeat="product in products | orderBy: '-price'">
                Name: {{product.name}}, Price: {{product.price | currency}}, Qty: {{product.qty}}
                <button ng-click = 'buyproduct(product)'>Buy</button>
            </div>
        </div>
    </body>
</html>
